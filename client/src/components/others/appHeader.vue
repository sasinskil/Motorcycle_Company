<template>
  <header v-if="checkIsUserJanek" class="header">
    <nav class="navigation">
      <span class="navigation__logo">
        <a class="navigation__link" href="#">
          <svg
            class="duos_kolos_logo"
            width="162"
            height="72"
            viewBox="0 0 162 72"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g 
            class="duos_kolos_logo--box"
            clip-path="url(#clip0)">
              <rect width="162" height="72" fill="white" />
              <rect width="162" height="72" fill="white" />
              <line
                x1="19"
                y1="17.8974"
                x2="43"
                y2="17.8974"
                stroke="black"
                stroke-width="0.4"
              />
              <line
                x1="115.889"
                y1="38.931"
                x2="127.889"
                y2="30.931"
                stroke="black"
                stroke-width="0.4"
              />
              <line
                x1="43.1627"
                y1="17.9811"
                x2="48.1627"
                y2="24.9811"
                stroke="black"
                stroke-width="0.4"
              />
              <line
                x1="34.1249"
                y1="37.2535"
                x2="24.1249"
                y2="45.2535"
                stroke="black"
                stroke-width="0.4"
              />
              <path
                d="M34 37.0974L33.7016 34.6942L33 33.0974"
                stroke="black"
                stroke-width="0.4"
              />
              <line
                x1="28.1857"
                y1="35.1716"
                x2="24.1857"
                y2="45.1716"
                stroke="black"
                stroke-width="0.4"
              />
              <path
                d="M33 33.0974L28.1414 35.2388"
                stroke="black"
                stroke-width="0.4"
              />
              <line
                x1="61.1789"
                y1="42.0079"
                x2="63.1789"
                y2="46.0079"
                stroke="black"
                stroke-width="0.4"
              />
              <line
                x1="62.8452"
                y1="28.9707"
                x2="71.8452"
                y2="17.9707"
                stroke="black"
                stroke-width="0.4"
              />
              <path
                d="M98.8201 58.5146C99.4991 46.1886 103.494 41.3906 115.436 39.1289"
                stroke="black"
                stroke-width="0.4"
              />
              <line
                x1="97.9008"
                y1="20.9237"
                x2="104.901"
                y2="16.9237"
                stroke="black"
                stroke-width="0.4"
              />
              <line
                x1="97.88"
                y1="21.2574"
                x2="93.88"
                y2="18.2574"
                stroke="black"
                stroke-width="0.4"
              />
              <line
                x1="97.88"
                y1="21.2574"
                x2="93.88"
                y2="18.2574"
                stroke="black"
                stroke-width="0.4"
              />
              <line
                x1="48.0515"
                y1="24.9041"
                x2="63.0515"
                y2="28.9041"
                stroke="black"
                stroke-width="0.4"
              />
              <line
                x1="57.8971"
                y1="48.9259"
                x2="62.8971"
                y2="45.9259"
                stroke="black"
                stroke-width="0.4"
              />
              <line
                x1="59.8971"
                y1="51.9259"
                x2="64.8971"
                y2="48.9259"
                stroke="black"
                stroke-width="0.4"
              />
              <line
                x1="65.0828"
                y1="48.9153"
                x2="76.0828"
                y2="53.9153"
                stroke="black"
                stroke-width="0.4"
              />
              <line
                x1="60.0894"
                y1="51.9185"
                x2="64.0894"
                y2="53.9185"
                stroke="black"
                stroke-width="0.4"
              />
              <line
                x1="64"
                y1="53.8974"
                x2="76"
                y2="53.8974"
                stroke="black"
                stroke-width="0.4"
              />
              <line
                x1="57.9985"
                y1="58.1474"
                x2="99.0208"
                y2="58.1474"
                stroke="black"
                stroke-width="0.4"
              />
              <line
                x1="105.06"
                y1="16.9066"
                x2="124.06"
                y2="22.9067"
                stroke="black"
                stroke-width="0.4"
              />
              <line
                x1="97.8853"
                y1="7.93352"
                x2="107.885"
                y2="0.93352"
                stroke="black"
                stroke-width="0.4"
              />
              <line
                x1="127.821"
                y1="31.1868"
                x2="123.821"
                y2="23.1868"
                stroke="black"
                stroke-width="0.4"
              />
              <path
                d="M108 1.09736C112.601 4.26699 118.254 8.89284 122.08 18.1947"
                stroke="black"
                stroke-width="0.4"
              />
              <path
                d="M104.89 13.9371C112.012 14.9172 115.594 16.1203 122.13 18.0318"
                stroke="black"
                stroke-width="0.4"
              />
              <line
                x1="98.1302"
                y1="7.94551"
                x2="105.13"
                y2="13.9455"
                stroke="black"
                stroke-width="0.4"
              />
              <path
                d="M72 18.0974L80.0667 16.0974C80.0667 16.0974 89.0026 16.1106 94 18.0974"
                stroke="black"
                stroke-width="0.4"
              />
              <circle
                cx="98.5"
                cy="14.5974"
                r="2.3"
                fill="white"
                stroke="black"
                stroke-width="0.4"
              />
              <path
                d="M19.4827 17.6558C26.7307 25.3586 31.0043 28.6288 39.0288 32.4644C47.569 36.1569 52.1134 38.2212 61.2519 42.0211"
                stroke="black"
                stroke-width="0.4"
              />
              <circle
                cx="116.5"
                cy="54.5974"
                r="11.3"
                fill="white"
                stroke="black"
                stroke-width="0.4"
              />
              <circle
                cx="42.5"
                cy="54.5974"
                r="11.3"
                fill="white"
                stroke="black"
                stroke-width="0.4"
              />
              <path
                class="duos_kolos_logo--duos-text"
                d="M19.071 16V4.1H21.383C22.2443 4.1 22.9073 4.37767 23.372 4.933C23.8367 5.477 24.069 6.46867 24.069 7.908V12.192C24.069 13.6313 23.8367 14.6287 23.372 15.184C22.9073 15.728 22.2443 16 21.383 16H19.071ZM22.726 12.498V7.619C22.726 5.99833 22.2783 5.188 21.383 5.188H20.431V14.929H21.383C22.2783 14.929 22.726 14.1187 22.726 12.498ZM29.7853 4.1H31.1283V12.447C31.1283 13.8863 30.8959 14.8837 30.4313 15.439C29.9779 15.983 29.3319 16.255 28.4933 16.255C27.6546 16.255 27.0029 15.983 26.5383 15.439C26.0849 14.8837 25.8583 13.8863 25.8583 12.447V4.1H27.2013V12.702C27.2013 13.62 27.3146 14.2603 27.5413 14.623C27.7679 14.9743 28.0796 15.15 28.4763 15.15C28.8843 15.15 29.2016 14.9743 29.4283 14.623C29.6663 14.2603 29.7853 13.62 29.7853 12.702V4.1ZM38.2321 7.653V12.447C38.2321 13.8863 37.9998 14.8837 37.5351 15.439C37.0818 15.983 36.4245 16.255 35.5631 16.255C34.7131 16.255 34.0558 15.983 33.5911 15.439C33.1378 14.8837 32.9111 13.8863 32.9111 12.447V7.653C32.9111 6.21367 33.1378 5.222 33.5911 4.678C34.0558 4.12267 34.7131 3.845 35.5631 3.845C36.4245 3.845 37.0818 4.12267 37.5351 4.678C37.9998 5.222 38.2321 6.21367 38.2321 7.653ZM36.8891 12.702V7.398C36.8891 5.766 36.4528 4.95 35.5801 4.95C35.1608 4.95 34.8321 5.12567 34.5941 5.477C34.3675 5.82833 34.2541 6.46867 34.2541 7.398V12.702C34.2541 13.6313 34.3675 14.2717 34.5941 14.623C34.8321 14.9743 35.1608 15.15 35.5801 15.15C36.4528 15.15 36.8891 14.334 36.8891 12.702ZM43.7934 13.331C43.7934 12.4243 43.4874 11.7273 42.8754 11.24L41.5154 10.237C40.4954 9.51167 39.9854 8.44067 39.9854 7.024C39.9854 5.84533 40.2064 5.02367 40.6484 4.559C41.1017 4.083 41.7137 3.845 42.4844 3.845C43.2664 3.845 43.8727 4.066 44.3034 4.508C44.734 4.93867 44.9947 5.72633 45.0854 6.871L43.7934 7.16C43.748 5.70933 43.323 4.984 42.5184 4.984C41.725 4.984 41.3284 5.60167 41.3284 6.837C41.3284 7.381 41.385 7.823 41.4984 8.163C41.623 8.503 41.8554 8.809 42.1954 9.081L43.5384 10.084C43.8557 10.3107 44.1107 10.526 44.3034 10.73C44.496 10.934 44.6774 11.2627 44.8474 11.716C45.0287 12.158 45.1194 12.685 45.1194 13.297C45.1194 14.385 44.8814 15.15 44.4054 15.592C43.9407 16.034 43.306 16.255 42.5014 16.255C41.6967 16.255 41.0677 15.9943 40.6144 15.473C40.161 14.9517 39.8834 14.0223 39.7814 12.685L41.0564 12.464C41.1017 13.4273 41.2377 14.113 41.4644 14.521C41.7024 14.929 42.031 15.133 42.4504 15.133C43.3457 15.133 43.7934 14.5323 43.7934 13.331Z"
                fill="black"
              />
              <path
                class="duos_kolos_logo--letter-K"
                d="M17.1 66.0974C16.8 66.0974 16.41 65.7174 15.93 64.9574C15.45 64.1774 14.78 62.9474 13.92 61.2674C13.18 59.8274 12.56 58.6674 12.06 57.7874C11.56 56.9074 11.08 56.1774 10.62 55.5974L7.95 58.6574V63.9974L10.53 64.3274V66.0974H1.2V64.2974L3.57 63.9974V46.0574L1.23 45.6674V43.8074H10.26V45.6674L7.95 46.0574V55.8374L15.84 46.0574L13.38 45.6674V43.8074H21.48V45.6674L18.99 46.0574L13.17 52.5974C13.87 53.2374 14.61 54.1474 15.39 55.3274C16.17 56.4874 17.12 58.0074 18.24 59.8874C19.06 61.2674 19.68 62.2774 20.1 62.9174C20.52 63.5374 20.84 63.8974 21.06 63.9974L22.47 64.3274V66.0974H17.1Z"
                fill="black"
              />
              <path
                class="duos_kolos_logo--letter-L"
                d="M73.57 46.0574L71.26 45.6674V43.8074H80.86V45.6674L77.98 46.0574V51.6974L83.41 49.3874V51.5474L77.98 53.7974V63.9674L84.4 63.6974L86.29 58.0874L88.72 58.4174L87.79 66.0974H71.2V64.2974L73.57 63.9974V55.4774L70.69 56.6774V54.6674L73.57 53.4674V46.0574Z"
                fill="black"
              />
              <path
                class="duos_kolos_logo--letter-S"
                d="M146.91 66.4274C145.83 66.4274 144.86 66.3374 144 66.1574C143.14 65.9774 142.18 65.7374 141.12 65.4374C140.42 65.2374 139.95 65.1274 139.71 65.1074L139.98 59.5574H142.41L143.07 63.4274C143.33 63.7074 143.79 63.9574 144.45 64.1774C145.13 64.3974 145.9 64.5074 146.76 64.5074C148.1 64.5074 149.1 64.2174 149.76 63.6374C150.44 63.0374 150.78 62.2074 150.78 61.1474C150.78 60.4474 150.58 59.8474 150.18 59.3474C149.78 58.8274 149.23 58.3674 148.53 57.9674C147.83 57.5474 146.87 57.0674 145.65 56.5274C143.99 55.7674 142.61 54.8674 141.51 53.8274C140.43 52.7674 139.89 51.3374 139.89 49.5374C139.89 48.4174 140.18 47.4074 140.76 46.5074C141.34 45.5874 142.2 44.8674 143.34 44.3474C144.5 43.8074 145.91 43.5374 147.57 43.5374C148.55 43.5374 149.41 43.6074 150.15 43.7474C150.91 43.8874 151.73 44.0774 152.61 44.3174C153.13 44.4574 153.52 44.5474 153.78 44.5874L153.6 49.8374H151.2L150.57 46.1474C150.39 45.9674 150.03 45.7974 149.49 45.6374C148.95 45.4574 148.35 45.3674 147.69 45.3674C146.49 45.3674 145.58 45.6474 144.96 46.2074C144.36 46.7474 144.06 47.4774 144.06 48.3974C144.06 49.1374 144.28 49.7774 144.72 50.3174C145.18 50.8574 145.73 51.3174 146.37 51.6974C147.01 52.0574 148.02 52.5774 149.4 53.2574C150.52 53.7974 151.48 54.3274 152.28 54.8474C153.08 55.3674 153.77 56.0474 154.35 56.8874C154.93 57.7074 155.22 58.6774 155.22 59.7974C155.22 60.8974 154.94 61.9474 154.38 62.9474C153.84 63.9474 152.94 64.7774 151.68 65.4374C150.44 66.0974 148.85 66.4274 146.91 66.4274Z"
                fill="black"
              />
              <path
                class="duos_kolos_logo--circle-right"
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M116.601 69C123.811 69 129.793 63.8127 130.986 57H132C130.797 64.3717 124.36 70 116.601 70C111.931 70 107.741 67.9615 104.881 64.7314L105.767 64.2204C108.437 67.1549 112.301 69 116.601 69ZM102.443 58.0566C102.154 56.9184 102 55.7269 102 54.5C102 46.498 108.531 40 116.601 40C123.087 40 128.579 44.1976 130.485 50H131.534C129.593 43.6342 123.642 39 116.601 39C107.985 39 101 45.9396 101 54.5C101 55.9102 101.19 57.2765 101.545 58.575L102.443 58.0566Z"
                fill="black"
              />
              <path
                class="duos_kolos_logo--circle-left"
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M42.6009 69C49.8113 69 55.793 63.8127 56.9856 57H58C56.7969 64.3717 50.3605 70 42.6009 70C37.9311 70 33.7406 67.9615 30.8815 64.7314L31.7666 64.2204C34.4375 67.1549 38.3007 69 42.6009 69ZM28.4426 58.0566C28.1535 56.9184 28 55.7269 28 54.5C28 46.498 34.5309 40 42.6009 40C49.0871 40 54.579 44.1976 56.4849 50H57.5342C55.5934 43.6342 49.6419 39 42.6009 39C33.9848 39 27 45.9396 27 54.5C27 55.9102 27.1896 57.2765 27.5447 58.575L28.4426 58.0566Z"
                fill="black"
              />
            </g>
            <defs>
              <clipPath id="clip0">
                <rect width="162" height="72" fill="white" />
              </clipPath>
            </defs>
          </svg>
        </a>
      </span>
      <button @click="showMenu" class="burger-show">
        <span class="burger-show--box">
          <span class="burger-show--inner"></span>
        </span>
      </button>
      <ul class="navigation__list">
        <button @click="hideMenu" class="burger-hide">
          <span class="burger-hide--box">
            <span class="burger-hide--inner"></span>
          </span>
        </button>
        <li class="navigation__item">
          <router-link class="navigation__link" to="/">Home</router-link>
          <!-- <a class="navigation__link" href="#">Customers</a> -->
        </li>
        <li class="navigation__item">
          <router-link class="navigation__link" to="/ninjas"
            >Customers</router-link
          >
          <!-- <a class="navigation__link" href="#">Customers</a> -->
        </li>
        <li class="navigation__item">
          <router-link class="navigation__link" to="/forms"
            >Employees</router-link
          >
          <!-- <a class="navigation__link" href="#">Employees</a> -->
        </li>
        <li class="navigation__item">
          <router-link class="navigation__link" to="/buttons"
            >Motorcycles</router-link
          >
          <!-- <a class="navigation__link" href="#">Motorcycles</a> -->
        </li>
        <li class="navigation__item">
          <a class="navigation__link" href="#">Test drive</a>
        </li>
        <li class="navigation__item">
          <a class="navigation__link" href="#">Transactions</a>
        </li>
        <li class="navigation__item">
          <a class="navigation__link" href="#">Services</a>
        </li>
        <li class="current-user">
          <font-awesome-icon class="icon user" icon="user" />
          <ul class="current-user__about-list">
            <li class="current-user__about-item">
              <strong>
                <font-awesome-icon class="icon user-icon" icon="id-card" />
              </strong>
              {{ getCurrentUser.name }}
            </li>
            <li class="current-user__about-item">
              <strong>
                <font-awesome-icon class="icon user-icon" icon="user-shield" />
              </strong>
              {{ getCurrentUser.role }}
            </li>
            <li class="current-user__about-item">
              <strong>
                <font-awesome-icon class="icon user-icon" icon="envelope" />
              </strong>
              {{ getCurrentUser.email }}
            </li>
          </ul>
        </li>
        <button class="navigation__logout" @click="toLogin">
          Logout
          <font-awesome-icon class="icon" icon="door-open" />
        </button>
      </ul>
    </nav>
  </header>
</template>

<script>
export default {
  name: "appHeader",
  data() {
    return {
      title: "Logo here"
    };
  },

  computed: {
    menuSelector() {
      return document.querySelector(".navigation__list");
    },
    getCurrentUser() {
      return this.$store.getters.getCurrentUser;
    },
    checkIsUserJanek() {
      const user = this.$store.getters.getCurrentUser.name;

      return user === "Janek" ? true : false;
    }
  },
  methods: {
    showMenu() {
      this.menuSelector.classList.add("navigation__list--visible");
    },
    hideMenu() {
      this.menuSelector.classList.remove("navigation__list--visible");
    },
    toLogin() {
      this.$router.push("/login");
    }
  }
};
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style lang="scss" scoped>
@import "@/assets/styles/variables.scss";

@keyframes rotatingMe {
    from {
        transform: rotate(0deg);
    }

    to {
        transform: rotate(360deg);
    }
}

/* Logo animation*/

.duos_kolos_logo {
    width: 100px;
    transition: transform .4s ease-in-out;
    &:hover {
        transform: rotate(-8deg);
    }
}

.duos_kolos_logo--duos-text,
.duos_kolos_logo--letter-K,
.duos_kolos_logo--letter-S,
.duos_kolos_logo--letter-L {
    transition: opacity .4s ease-in-out;
}

.duos_kolos_logo--box:hover > .duos_kolos_logo--duos-text{
    opacity: 0;
}

.duos_kolos_logo--box:hover > .duos_kolos_logo--letter-K{
    opacity: 0;
}

.duos_kolos_logo--box:hover > .duos_kolos_logo--letter-S{
    opacity: 0;
}

.duos_kolos_logo--box:hover > .duos_kolos_logo--letter-L{
    opacity: 0;
}

.duos_kolos_logo--box:hover > .duos_kolos_logo--circle-right {
  transform-origin: 72% 76%;
  animation: rotatingMe 2s linear infinite;
}

.duos_kolos_logo--box:hover > .duos_kolos_logo--circle-left {
  transform-origin: 26% 76%;
  animation: rotatingMe 2s linear infinite;
}

.user {
  width: 23px;
  height: 23px;
}

.current-user {
  margin: 0 0 0 3rem;
  position: relative;

  &:hover > &__about-list {
    transform: translateX(0px);
    opacity: 1;
    visibility: visible;
  }

  &__about-list {
    background: #324960;
    color: #fff;
    padding: 1.5rem 1rem;
    position: absolute;
    left: -200px;
    width: 100%;
    min-width: 220px;
    list-style-type: none;
    visibility: hidden;
    transform: translateX(-50px);
    opacity: 0;
    text-align: left;
    box-shadow: 0px 6px 16px rgba(24, 41, 67, 0.2);
    transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
  }

  &__about-item {
    border-bottom: 1px solid #ffffff26;
    padding-bottom: 0.3rem;
  }

  &__about-item + &__about-item {
    margin-top: 1rem;
  }
}

.user-icon {
  margin-right: 0.4rem;
}

@mixin hamburger-line {
  width: 100%;
  height: 0.2rem;
  background-color: #324960;
  position: absolute;
}
.header {
  padding: 0.5rem;
  position: fixed;
  z-index: 9997;
  top: 0;
  left: 0;
  width: 100%;
  background: #ffffff;
  box-shadow: 0px 4px 11px rgba(0, 0, 0, 0.2);
}

.header::before {
  position: absolute;
  content: "";
  top: 0;
  left: 0;
  display: block;
  width: 100%;
  height: 0.1rem;
  background-color: #324960;
}

.navigation {
  position: relative;
  width: 100%;
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 1rem;
  display: flex;
  justify-content: space-between;
  align-items: center;

  &__list {
    padding: 0;
    margin: 0;
    list-style-type: none;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transform: translateX(0px);
    transition: transform 0.3s ease-in-out;
  }

  &__link {
    text-decoration: none;
    color: #324960;
    font-weight: bold;
    position: relative;

    &::after {
      position: absolute;
      content: "";
      width: 0%;
      height: 0.1rem;
      background: #324960;
      bottom: -10px;
      left: 0;
      transition: width 0.4s ease-in-out;
    }
  }
}

.router-link-exact-active::after {
  width: 100%;
}

.burger-show {
  cursor: pointer;
  padding: 0.2rem;
  border: none;
  background-color: transparent;

  &--box {
    width: 30px;
    height: 20px;
    display: inline-block;
    position: relative;
  }

  &--inner {
    @include hamburger-line;
    left: 0;
    top: 50%;
    transform: translateY(-50%);

    &::before,
    &::after {
      @include hamburger-line;
      left: 0;
      content: "";
    }

    &::before {
      top: -10px;
    }

    &::after {
      top: 10px;
    }
  }
}

.burger-hide {
  position: absolute;
  top: 20px;
  right: 15px;
  cursor: pointer;
  padding: 0.6rem;
  border: none;
  background-color: transparent;

  &--box {
    width: 30px;
    height: 25px;
    display: inline-block;
    position: relative;
  }

  &--inner {
    @include hamburger-line;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
    background-color: transparent;

    &::before,
    &::after {
      @include hamburger-line;
      left: 0;
      content: "";
    }

    &::before {
      top: -10px;
      transform: translateY(10px) rotate(45deg);
    }

    &::after {
      top: 10px;
      transform: translateY(-10px) rotate(-45deg);
    }
  }
}

.navigation__item + .navigation__item {
  margin-left: 20px;
}

.navigation__logout {
  @include default-button($navy-blue);
  font-weight: bold;
  background: none;
  border: 2px solid $navy-blue;
  margin-left: 3rem;
  color: $navy-blue;
  transition: background 0.3s ease-in-out, color 0.1s ease-in-out;

  &:hover {
    background: #324960;
    color: #fff;
  }

  &:active {
    background: #324960de;
  }
}

@media (min-width: 1101px) {
  .burger-show,
  .burger-hide {
    display: none;
  }
}

@media (max-width: 1100px) {
  .burger-show,
  .burger-hide {
    display: block;
  }

  .navigation {
    max-width: 100vw;
    text-align: left;
  }

  .navigation__logo {
    width: 100%;
    text-align: left;
  }

  .navigation__list {
    background: #ffffff;
    padding: 1rem 0;
    margin: 0;
    position: fixed;
    transform: translateX(-1300px);
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    box-shadow: 0px 4px 11px rgba(0, 0, 0, 0.2);
  }

  .navigation__list--visible {
    transform: translateX(0px);
  }

  .navigation__item + .navigation__item {
    margin-left: 0;
  }

  .navigation__item {
    padding: 3rem 0 0 0;
  }

  .navigation__logout {
    margin: 3rem 0 0 0;
  }

  .current-user {
    margin: 3rem 0 0 0;
  }
}
</style>
